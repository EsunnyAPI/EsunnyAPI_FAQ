<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>交易 | 易盛API常见问题整理</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.5.2">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="http://source.liangxh.cn/gitbook/style.css">
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-js-sequence-diagram/styles.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-anchor-navigation/plugin.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-search-pro/search-pro.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-tbfed-pagefooter/footer.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-highlight/website.css">
        
    
    

        
    
    
    <link rel="next" href="../v9/index.html" />
    
    
    <link rel="prev" href="../v3/quote.html" />
    

        <script src='//cdn.staticfile.org/raphael/2.1.2/raphael-min.js'></script>
    </head>
    <body>
        
        
    <div class="book" data-level="2.3" data-chapter-title="交易" data-filepath="v3/trade.md" data-basepath=".." data-revision="Thu Oct 19 2017 11:07:12 GMT+0800 (CST)">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                
                        <i class="fa fa-check"></i>
                        文档说明
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="EsunnyAPI.html">
            
                
                    <a href="../EsunnyAPI.html">
                
                        <i class="fa fa-check"></i>
                        API整体介绍
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2" data-path="v3/index.html">
            
                
                    <a href="../v3/index.html">
                
                        <i class="fa fa-check"></i>
                        3.0API常见问题
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="v3/common.html">
            
                
                    <a href="../v3/common.html">
                
                        <i class="fa fa-check"></i>
                        共通
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="v3/quote.html">
            
                
                    <a href="../v3/quote.html">
                
                        <i class="fa fa-check"></i>
                        行情
                    </a>
            
            
        </li>
    
        <li class="chapter active" data-level="2.3" data-path="v3/trade.html">
            
                
                    <a href="../v3/trade.html">
                
                        <i class="fa fa-check"></i>
                        交易
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="v9/index.html">
            
                
                    <a href="../v9/index.html">
                
                        <i class="fa fa-check"></i>
                        9.0API常见问题
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="v9/common.html">
            
                
                    <a href="../v9/common.html">
                
                        <i class="fa fa-check"></i>
                        共通
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="v9/quote.html">
            
                
                    <a href="../v9/quote.html">
                
                        <i class="fa fa-check"></i>
                        行情
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="v9/trade.html">
            
                
                    <a href="../v9/trade.html">
                
                        <i class="fa fa-check"></i>
                        交易
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4" data-path="contract.html">
            
                
                    <a href="../contract.html">
                
                        <i class="fa fa-check"></i>
                        联系我们
                    </a>
            
            
        </li>
    


            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../" >易盛API常见问题整理</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <html><head></head><body><h1 id="30&#x4EA4;&#x6613;-&#x5E38;&#x89C1;&#x95EE;&#x9898;">3.0&#x4EA4;&#x6613; &#x5E38;&#x89C1;&#x95EE;&#x9898;</h1>
<h1 id="30&#x4EA4;&#x6613;">3.0&#x4EA4;&#x6613;</h1>
<hr>
<h1 id="&#x5E94;&#x7B54;&#x4E0E;&#x63A8;&#x9001;">&#x5E94;&#x7B54;&#x4E0E;&#x63A8;&#x9001;</h1>
<ul>
<li><p>&#x5E94;&#x7B54;&#xFF1A;API&#x53D1;&#x51FA;&#x8BF7;&#x6C42;&#xFF0C;&#x5BF9;API&#x8BF7;&#x6C42;&#x7684;&#x56DE;&#x5E94;&#xFF0C;&#x5E94;&#x7B54;&#x4EE5;OnRsp&#x5F00;&#x5934;&#xFF0C;&#x4F8B;&#x5982;&#x53D1;&#x51FA;OrderInsert&#x4E0B;&#x5355;&#x6307;&#x4EE4;&#xFF0C;OnRspOrderInsert&#x4E3A;&#x5BF9;&#x4E0B;&#x5355;&#x6307;&#x4EE4;&#x7684;&#x5E94;&#x7B54;&#x3002;&#x4E00;&#x95EE;&#x4E00;&#x7B54;&#x3002;</p>
</li>
<li><p>&#x63A8;&#x9001;&#xFF1A;&#x7531;&#x670D;&#x52A1;&#x5668;&#x4E3B;&#x52A8;&#x63A8;&#x9001;&#x7ED9;API&#xFF0C;&#x4EE5;OnRtn&#x5F00;&#x5934;&#xFF0C;&#x4F8B;&#x5982;&#x5BA2;&#x6237;&#x59D4;&#x6258;&#x72B6;&#x6001;&#x7684;&#x53D8;&#x66F4;&#xFF0C;&#x6392;&#x961F;&#x3001;&#x90E8;&#x5206;&#x6210;&#x4EA4;&#x3001;&#x5B8C;&#x5168;&#x6210;&#x4EA4;&#x3001;&#x64A4;&#x5355;&#x7B49;&#x3002;</p>
</li>
</ul>
<hr>
<h1 id="&#x6210;&#x4EA4;&#x63A8;&#x9001;&#x4E0E;&#x59D4;&#x6258;&#x72B6;&#x6001;&#x63A8;&#x9001;">&#x6210;&#x4EA4;&#x63A8;&#x9001;&#x4E0E;&#x59D4;&#x6258;&#x72B6;&#x6001;&#x63A8;&#x9001;</h1>
<ul>
<li>&#x5355;&#x817F;&#x6210;&#x4EA4;&#x4FE1;&#x606F;&#x63A8;&#x9001;</li>
</ul>
<pre><code class="lang-cpp"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> __<span class="hljs-function">cdecl <span class="hljs-title">OnRtnMatchState</span><span class="hljs-params">(<span class="hljs-keyword">const</span> TEsMatchStateNoticeField&amp; rsp)</span> </span>= <span class="hljs-number">0</span>
</code></pre>
<ul>
<li>&#x591A;&#x817F;&#x6210;&#x4EA4;&#x4FE1;&#x606F;&#x63A8;&#x9001;</li>
</ul>
<pre><code class="lang-cpp"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> __<span class="hljs-function">cdecl <span class="hljs-title">OnRtnMatchInfo</span><span class="hljs-params">(<span class="hljs-keyword">const</span> TEsMatchInfoNoticeField&amp; rsp)</span> </span>= <span class="hljs-number">0</span>
</code></pre>
<p>&#x6210;&#x4EA4;&#x4FE1;&#x606F;&#x7684;&#x63A8;&#x9001;&#xFF0C;&#x5177;&#x4F53;&#x518D;&#x54EA;&#x4E2A;&#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x53D6;&#x51B3;&#x4E8E;&#x6613;&#x76DB;&#x7684;&#x7F51;&#x5173;&#x7A0B;&#x5E8F;&#xFF0C;&#x591A;&#x817F;&#x6210;&#x4EA4;&#x8FD4;&#x56DE;&#x4E0E;OnRtnMatchInfo&#xFF0C;&#x5355;&#x817F;&#x6210;&#x4EA4;&#x8FD4;&#x56DE;&#x4E8E;OnRtnMatchState&#x6216;&#x8005;OnRtnMatchInfo&#xFF0C;&#x5F00;&#x53D1;&#x8005;&#x5728;&#x5F00;&#x53D1;&#x65F6;&#x9700;&#x8981;&#x5904;&#x7406;&#x4EE5;&#x4E0A;&#x4E24;&#x4E2A;&#x51FD;&#x6570;&#x63A5;&#x6536;&#x6210;&#x4EA4;&#x3002;</p>
<ul>
<li>&#x59D4;&#x6258;&#x4FE1;&#x606F;&#x72B6;&#x6001;&#x53D8;&#x5316;&#x63A8;&#x9001;</li>
</ul>
<pre><code class="lang-cpp"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> __<span class="hljs-function">cdecl <span class="hljs-title">OnRtnOrderState</span><span class="hljs-params">(<span class="hljs-keyword">const</span> TEsOrderStateNoticeField&amp; rsp)</span> </span>= <span class="hljs-number">0</span>
</code></pre>
<ul>
<li>&#x4E0B;&#x5355;&#x63A8;&#x9001;&#xFF0C;&#x975E;&#x81EA;&#x8EAB;API&#x4E0B;&#x5355;&#xFF0C;&#x7531;&#x5176;&#x4ED6;&#x7EC8;&#x7AEF;&#x5982;itrader3.0  &#x6781;&#x661F;&#x5BA2;&#x6237;&#x7AEF;&#x4E0B;&#x5355;&#x7684;&#x63A8;&#x9001;</li>
</ul>
<pre><code class="lang-cpp"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> __<span class="hljs-function">cdecl <span class="hljs-title">OnRtnOrderInfo</span><span class="hljs-params">(<span class="hljs-keyword">const</span> TEsOrderInfoNoticeField&amp; rsp)</span> </span>= <span class="hljs-number">0</span>
</code></pre>
<hr>
<h1 id="&#x9519;&#x8BEF;&#x7801;">&#x9519;&#x8BEF;&#x7801;</h1>
<p>API&#x4E2D;&#x9519;&#x8BEF;&#x7801;&#xFF1A;</p>
<ul>
<li>&#x53D1;&#x9001;API&#x6307;&#x4EE4;&#x8FD4;&#x56DE;&#x9519;&#x8BEF;&#x7801;&#xFF0C;&#x8BF4;&#x660E;API&#x6307;&#x4EE4;&#x672A;&#x53D1;&#x9001;&#x6210;&#x529F;</li>
</ul>
<pre><code class="lang-cpp"><span class="hljs-keyword">int</span>  ret = Tap_Api-&gt;Login(req,iReqID);
ret==<span class="hljs-number">11</span>
<span class="hljs-comment">//&#x672A;&#x8FDE;&#x63A5;&#x6216;&#x8005;&#x7F51;&#x7EDC;&#x9519;&#x8BEF;</span>
<span class="hljs-keyword">const</span> TErrorCodeType Err_Network_Disconnected  =<span class="hljs-number">11</span>;
</code></pre>
<ul>
<li>&#x7531;OnRsp<strong><em> OnRtn</em></strong>&#x8FD4;&#x56DE;&#x7684;&#x9519;&#x8BEF;&#x7801;&#xFF0C;&#x662F;&#x540E;&#x53F0;&#x670D;&#x52A1;&#x8FD4;&#x56DE;</li>
</ul>
<pre><code class="lang-cpp">OnLogin(<span class="hljs-keyword">const</span> TEsLoginRspField* rsp, <span class="hljs-keyword">int</span> errCode, <span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> iReqID&#xFF09;

errCode ==<span class="hljs-number">7</span>;

<span class="hljs-comment">//&#x767B;&#x5F55;&#x5BC6;&#x7801;&#x9519;</span>

<span class="hljs-keyword">const</span> TErrorCodeType Err_Login_Password= <span class="hljs-number">7</span>;
</code></pre>
<p>&#x5173;&#x4E8E;&#x9519;&#x8BEF;&#x7801;&#x7684;&#x89E3;&#x91CA;&#x5728;EsForeignApiErrCode.h&#x5B9A;&#x4E49;&#xFF0C;&#x5F00;&#x53D1;&#x8005;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x5B9A;&#x4E49;&#x67E5;&#x627E;&#x9519;&#x8BEF;&#x539F;&#x56E0;&#x3002;</p>
<hr>
<h1 id="&#x4E0B;&#x5355;&#x9891;&#x7387;">&#x4E0B;&#x5355;&#x9891;&#x7387;</h1>
<p>&#x901A;&#x7528;&#x6388;&#x6743;&#x4E0B;&#x5355;&#x9891;&#x7387;&#x4E3A;10&#x7B14;/S&#xFF0C;&#x5982;&#x6709;&#x7279;&#x6B8A;&#x9700;&#x6C42;&#x53EF;&#x518D;&#x7533;&#x8BF7;</p>
<hr>
<h1 id="tesorderinsertreqfield&#x62A5;&#x5355;&#x8BF7;&#x6C42;&#x7ED3;&#x6784;">TEsOrderInsertReqField&#x62A5;&#x5355;&#x8BF7;&#x6C42;&#x7ED3;&#x6784;</h1>
<table>
<thead>
<tr>
<th>&#x5B57;&#x6BB5;&#x7C7B;&#x578B;</th>
<th>&#x5B57;&#x6BB5;&#x540D;&#x79F0;</th>
<th>&#x4E2D;&#x6587;&#x89E3;&#x91CA;</th>
<th>&#x662F;&#x5426;&#x5FC5;&#x586B;</th>
</tr>
</thead>
<tbody>
<tr>
<td>TClientNoType</td>
<td>ClientNo</td>
<td>&#x5BA2;&#x6237;&#x53F7;</td>
<td>&#x5FC5;&#x586B;</td>
</tr>
<tr>
<td>TCommodityNoType</td>
<td>CommodityNo</td>
<td>&#x5546;&#x54C1;&#x4EE3;&#x7801;</td>
<td>&#x5FC5;&#x586B;</td>
</tr>
<tr>
<td>TContractNoType</td>
<td>ContractNo</td>
<td>&#x5408;&#x7EA6;&#x4EE3;&#x7801;</td>
<td>&#x5FC5;&#x586B;</td>
</tr>
<tr>
<td>TOrderTypeType</td>
<td>OrderType</td>
<td>&#x59D4;&#x6258;&#x7C7B;&#x578B;</td>
<td>&#x5FC5;&#x586B;</td>
</tr>
<tr>
<td>TOrderWayType</td>
<td>OrderWay</td>
<td>&#x59D4;&#x6258;&#x65B9;&#x5F0F;,&#x7528;&#x4E8E;&#x6807;&#x8BC6;&#x8BA2;&#x5355;&#x59D4;&#x6258;&#x6765;&#x6E90;</td>
<td>&#x5FC5;&#x586B;</td>
</tr>
<tr>
<td>TOrderModeType</td>
<td>OrderMode</td>
<td>&#x59D4;&#x6258;&#x6A21;&#x5F0F;</td>
<td>&#x5FC5;&#x586B;</td>
</tr>
<tr>
<td>TDateTimeType</td>
<td>ValidDateTime</td>
<td>&#x6709;&#x6548;&#x65E5;&#x671F;(GTD&#x60C5;&#x51B5;&#x4E0B;&#x4F7F;&#x7528;)</td>
<td>GTD&#x5FC5;&#x586B;</td>
</tr>
<tr>
<td>TIsRiskOrderType</td>
<td>IsRiskOrder</td>
<td>&#x98CE;&#x9669;&#x62A5;&#x5355;</td>
<td>&#x975E;&#x5FC5;&#x586B;&#xFF0C;&#x4E2A;&#x4EBA;&#x5BA2;&#x6237;&#x767B;&#x9646;&#x8EAB;&#x4EFD;&#xFF0C;&#x98CE;&#x9669;&#x62A5;&#x5355;&#x4E3A;&#x5426;</td>
</tr>
<tr>
<td>TDirectType</td>
<td>Direct</td>
<td>&#x4E70;&#x5165;&#x5356;&#x51FA;</td>
<td>&#x5FC5;&#x586B;</td>
</tr>
<tr>
<td>TOffsetType</td>
<td>Offset</td>
<td>&#x5F00;&#x4ED3;&#x5E73;&#x4ED3;</td>
<td>&#x5FC5;&#x586B;</td>
</tr>
<tr>
<td>THedgeType</td>
<td>Hedge</td>
<td>&#x6295;&#x673A;&#x4FDD;&#x503C;</td>
<td>&#x975E;&#x5FC5;&#x586B;</td>
</tr>
<tr>
<td>TTradePriceType</td>
<td>OrderPrice</td>
<td>&#x59D4;&#x6258;&#x4EF7;&#x683C;</td>
<td>&#x5FC5;&#x586B;</td>
</tr>
<tr>
<td>TTradePriceType</td>
<td>TriggerPrice</td>
<td>&#x89E6;&#x53D1;&#x4EF7;&#x683C;</td>
<td>&#x6B62;&#x635F;&#x5355;&#x5FC5;&#x586B;</td>
</tr>
<tr>
<td>TTradeVolType</td>
<td>OrderVol</td>
<td>&#x59D4;&#x6258;&#x6570;&#x91CF;</td>
<td>&#x5FC5;&#x586B;</td>
</tr>
<tr>
<td>TTradeVolType</td>
<td>MinMatchVol</td>
<td>&#x6700;&#x5C0F;&#x6210;&#x4EA4;&#x91CF;</td>
<td>&#x975E;&#x5FC5;&#x586B;</td>
</tr>
</tbody>
</table>
<p>&#x4E00;&#x4E2A;&#x9650;&#x4EF7;&#x5355;&#x7684;&#x62A5;&#x5355;&#x7ED3;&#x6784;&#x793A;&#x4F8B;&#xFF1A;</p>
<pre><code class="lang-cpp">    TEsOrderInsertReqField req;
    <span class="hljs-built_in">memset</span>(&amp;req,<span class="hljs-number">0</span>,<span class="hljs-keyword">sizeof</span>(req));
    <span class="hljs-comment">//&#x5BA2;&#x6237;&#x53F7;</span>
    strcpy_s(req.ClientNo,<span class="hljs-string">&quot;001&quot;</span>);
    <span class="hljs-comment">//&#x5546;&#x54C1;&#x4EE3;&#x7801;</span>
    strcpy_s(req.CommodityNo,<span class="hljs-string">&quot;CN&quot;</span>);
    <span class="hljs-comment">//&#x5408;&#x7EA6;&#x4EE3;&#x7801;</span>
    strcpy_s(req.ContractNo,<span class="hljs-string">&quot;1509&quot;</span>);
    <span class="hljs-comment">//&#x4E70;&#x5356;&#x65B9;&#x5411;</span>
    req.Direct=DIRECT_BUY;
    <span class="hljs-comment">//&#x5F00;&#x4ED3;&#x5E73;&#x4ED3;</span>
    req.Offset=OFFSET_OPEN;
    <span class="hljs-comment">//&#x59D4;&#x6258;&#x7C7B;&#x578B;</span>
    req.OrderType=ORDER_TYPE_LIMIT;
    <span class="hljs-comment">//&#x59D4;&#x6258;&#x6A21;&#x5F0F;</span>
    req.OrderMode=ORDER_MODE_GFD;
    <span class="hljs-comment">//&#x59D4;&#x6258;&#x4EF7;&#x683C;</span>
    req.OrderPrice=<span class="hljs-number">630</span>;
    <span class="hljs-comment">//&#x59D4;&#x6258;&#x6570;&#x91CF;</span>
    req.OrderVol=<span class="hljs-number">1</span>;
</code></pre>
<hr>
<h1 id="onlogin&#x4E0E;oninitfinished">OnLogin&#x4E0E;OnInitFinished</h1>
<p>&#x53D1;&#x9001;Login&#x6210;&#x529F;&#x540E;&#xFF0C;&#x6536;&#x5230;OnLogin&#x5E94;&#x7B54;&#x6210;&#x529F;&#x540E;&#x6536;&#x5230;&#x521D;&#x59CB;&#x5316;&#x64CD;&#x4F5C;&#x5B8C;&#x6210;&#xFF0C;&#x6240;&#x6709;&#x7684;&#x4E1A;&#x52A1;&#x64CD;&#x4F5C;&#x9700;&#x8981;OnInitFinished&#x672C;&#x54CD;&#x5E94;errCode&#x4E3A;0&#xFF08;&#x6210;&#x529F;&#xFF09;&#x540E;&#x53EF;&#x8FDB;&#x884C;</p>
<hr>
<h1 id="&#x5982;&#x4F55;&#x83B7;&#x53D6;&#x4EA4;&#x6613;&#x7684;&#x5408;&#x7EA6;&#x4EE3;&#x7801;">&#x5982;&#x4F55;&#x83B7;&#x53D6;&#x4EA4;&#x6613;&#x7684;&#x5408;&#x7EA6;&#x4EE3;&#x7801;</h1>
<ol>
<li>QryCommodity &#x67E5;&#x8BE2;&#x6240;&#x6709;&#x4EA4;&#x6613;&#x54C1;&#x79CD;</li>
<li>QryContract &#x6839;&#x636E;&#x7B2C;&#x4E00;&#x6B65;&#x83B7;&#x53D6;&#x5230;&#x7684;&#x54C1;&#x79CD;&#xFF0C;&#x67E5;&#x8BE2;&#x54C1;&#x79CD;&#x5BF9;&#x5E94;&#x7684;&#x4EA4;&#x6613;&#x5408;&#x7EA6;</li>
</ol>
<hr>
<h1 id="&#x8BF7;&#x6C42;id-ireqid">&#x8BF7;&#x6C42;ID iReqID</h1>
<p>&#x5E38;&#x89C1;&#x5E94;&#x7528;&#x573A;&#x666F;&#xFF1A;API&#x5F00;&#x53D1;&#x8005;&#x53D1;&#x51FA;&#x6307;&#x4EE4;&#xFF0C;&#x5728;&#x5E94;&#x7B54;&#x4E2D;&#x5982;&#x4F55;&#x77E5;&#x9053;&#x6B64;&#x6B21;&#x4E3A;&#x5BF9;&#x5F00;&#x53D1;&#x8005;&#x521A;&#x624D;&#x53D1;&#x51FA;&#x6307;&#x4EE4;&#x7684;&#x5E94;&#x7B54;</p>
<p>&#x4F8B;&#x5982;&#xFF1A;&#x62A5;&#x5355;&#x6307;&#x4EE4;</p>
<pre><code>int iReqID ; 

&#x8C03;&#x7528;OrderInsert( req,  iReqID) ; &#x540E;&#x8FD4;&#x56DE;iReqID=10;

&#x5728;&#x62A5;&#x5355;&#x6307;&#x4EE4;&#x5E94;&#x7B54;&#x4E2D;

OnRspOrderInsert( rsp, errCode, iReqID)

iReqID ==10 &#x5BF9;&#x5E94;&#x521A;&#x624D;&#x53D1;&#x51FA;&#x7684;&#x4E0B;&#x5355;&#x6307;&#x4EE4;
</code></pre><ul>
<li>iReqID  &#x7531;AP&#x81EA;&#x8EAB;&#x7EF4;&#x62A4;&#xFF0C;&#x5F53;&#x6307;&#x4EE4;&#x53D1;&#x6210;&#x529F;&#x5219;&#x81EA;&#x589E;1 &#x3002;&#x5982;&#x679C;&#x5224;&#x65AD;&#x6307;&#x4EE4;&#x53D1;&#x9001;&#x6210;&#x529F;&#xFF1F;&#x8BF7;&#x53C2;&#x8003;
&#x2018;&#x9519;&#x8BEF;&#x7801;&#x2019;&#x8BF4;&#x660E;</li>
</ul>
<h1 id="&#x6210;&#x4EA4;&#x6D41;&#x53F7;-&#x3001;-&#x6210;&#x4EA4;id-&#x3001;-&#x6210;&#x4EA4;&#x7F16;&#x53F7;">&#x6210;&#x4EA4;&#x6D41;&#x53F7; &#x3001; &#x6210;&#x4EA4;ID &#x3001; &#x6210;&#x4EA4;&#x7F16;&#x53F7;</h1>
<ul>
<li>&#x6210;&#x4EA4;&#x6D41;&#x53F7;:&#xFF08;&#x6613;&#x76DB;&#x7CFB;&#x7EDF;&#x751F;&#x6210;&#xFF09; &#x6210;&#x4EA4;ID &#xFF08;&#x6613;&#x76DB;&#x7CFB;&#x7EDF;&#x751F;&#x6210;&#xFF09; &#x6210;&#x4EA4;&#x7F16;&#x53F7; &#xFF08;&#x4E0A;&#x624B;&#x751F;&#x6210;&#xFF09;</li>
<li>&#x6210;&#x4EA4;ID&#xFF1A;&#x4E00;&#x7B14;&#x6210;&#x4EA4;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x6210;&#x4EA4;ID&#xFF0C;&#x5F53;&#x6210;&#x4EA4;&#x72B6;&#x6001;&#x53D8;&#x5316;&#x540E;&#xFF0C;&#x6210;&#x4EA4;ID&#x4E0D;&#x6539;&#x53D8;</li>
<li>&#x6210;&#x4EA4;&#x6D41;&#x53F7;&#xFF1A;&#x4E00;&#x7B14;&#x6210;&#x4EA4;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x6210;&#x4EA4;ID&#xFF0C;&#x5F53;&#x6210;&#x4EA4;&#x72B6;&#x6001;&#x53D8;&#x5316;&#x540E;&#xFF0C;&#x6210;&#x4EA4;&#x6D41;&#x53F7;&#x4E5F;&#x91CD;&#x65B0;&#x751F;&#x6210;</li>
</ul>
<hr>
<h1 id="513-errfrntappnotallow-&#x5BA2;&#x6237;&#x5E94;&#x7528;&#x6CA1;&#x6709;&#x6388;&#x6743;&#x95EE;&#x9898;&#x6392;&#x67E5;">513 Err_Frnt_APPNotAllow &#x5BA2;&#x6237;&#x5E94;&#x7528;&#x6CA1;&#x6709;&#x6388;&#x6743;&#x95EE;&#x9898;&#x6392;&#x67E5;</h1>
<pre><code class="lang-cpp"><span class="hljs-comment">//&#x767B;&#x5F55;&#x8BF7;&#x6C42;&#x7ED3;&#x6784;</span>
<span class="hljs-keyword">struct</span> TEsLoginReqField
{    
    TIsCaLoginType                IsCaLogin;              <span class="hljs-comment">//&#x662F;&#x5426;CA&#x8BA4;&#x8BC1;</span>
    TEsLoginIdentityType        Identity;               <span class="hljs-comment">//&#x767B;&#x5F55;&#x8EAB;&#x4EFD;&#x7C7B;&#x578B;,&#x76EE;&#x524D;&#x53EA;&#x652F;&#x6301;&#x5355;&#x5BA2;&#x6237;</span>
    TIsForcePasswordType        IsForcePwd;             <span class="hljs-comment">//&#x662F;&#x5426;&#x5F3A;&#x5236;&#x4FEE;&#x6539;&#x5BC6;&#x7801;</span>
    <span class="hljs-comment">/// &#x4F7F;&#x7528;&#x4E0D;&#x540C;&#x8D26;&#x6237;&#x767B;&#x5F55;&#x65F6;&#x5171;&#x7528;&#x767B;&#x5F55;&#x53F7;</span>
    <span class="hljs-keyword">union</span>                                                        
    {
        TClientNoType                ClientNo;            <span class="hljs-comment">//&#x5BA2;&#x6237;&#x53F7;,&#x4EE3;&#x7406;&#x5BA2;&#x6237;&#x53F7;</span>
        TOperatorNoType                OperatorNo;            <span class="hljs-comment">//&#x64CD;&#x4F5C;&#x5458;&#x53F7;,&#x4EE3;&#x7406;&#x64CD;&#x4F5C;&#x5458;&#x53F7;</span>
    };
    <span class="hljs-comment">/// &#x5BF9;&#x5E94;&#x6240;&#x4F7F;&#x7528;&#x7684;&#x767B;&#x5F55;&#x8D26;&#x53F7;&#x7684;&#x5BC6;&#x7801;</span>
    TLoginPasswordType            LoginPwd;                <span class="hljs-comment">//&#x767B;&#x5F55;&#x5BC6;&#x7801;</span>
    <span class="hljs-comment">/// &#x5F3A;&#x5236;&#x4FEE;&#x6539;&#x5BC6;&#x7801;&#x65F6;&#x7684;&#x65B0;&#x5BC6;&#x7801;</span>
    TLoginPasswordType            NewPwd;                    <span class="hljs-comment">//&#x5F3A;&#x5236;&#x4FEE;&#x6539;&#x5BC6;&#x7801;&#x767B;&#x5F55;&#x65F6;,&#x65B0;&#x4FEE;&#x6539;&#x5BC6;&#x7801;</span>
    TOtpPassType                OtpPass;                <span class="hljs-comment">//otp&#x8BA4;&#x8BC1;&#x5BC6;&#x7801;</span>
    TEsSizeType                 CaLen;                  <span class="hljs-comment">//CA&#x4FE1;&#x606F;&#x957F;&#x5EA6;&#xFF0C;IsCaLogin&#x4E3A;&apos;Y&apos;&#x65F6;&#xFF0C;&#x672C;&#x5B57;&#x6BB5;&#x6709;&#x6548;</span>
    TCaInfoType                    CaInfo;                    <span class="hljs-comment">//CA&#x767B;&#x5F55;&#x65F6;&#x586B;&#x5199;,IsCaLogin&#x4E3A;&apos;Y&apos;&#x65F6;&#xFF0C;&#x672C;&#x5B57;&#x6BB5;&#x6709;&#x6548;</span>
};
</code></pre>
<ul>
<li>&#x68C0;&#x67E5;&#x6388;&#x7801;&#x662F;&#x5426;&#x6B63;&#x786E;&#xFF0C;&#x8FDE;&#x63A5;&#x5730;&#x5740;&#x662F;&#x5426;&#x6B63;&#x786E;</li>
<li>&#x767B;&#x9646;&#x8EAB;&#x4EFD;&#xFF0C;IDENTITY_CLIENT&#xFF08;&#x4E2A;&#x4EBA;&#x5BA2;&#x6237;&#xFF09;&#x3001; IDENTITY_TRADER&#xFF08;&#x4EA4;&#x6613;&#x5458;&#xFF09;&#x3001; IDENTITY_MANAGE&#xFF08;&#x7BA1;&#x7406;&#x5458;&#xFF09;&#xFF0C;&#x540E;&#x53F0;&#x914D;&#x7F6E;&#x4E3A;&#x4F55;&#x79CD;&#x7C7B;&#x578B;&#x6388;&#x6743;&#xFF0C;&#x7528;&#x76F8;&#x5E94;&#x8EAB;&#x4EFD;&#x767B;&#x9646;</li>
<li>&#x7ED3;&#x6784;&#x4F53;&#x586B;&#x5145;&#x65F6;&#xFF0C;&#x4E2A;&#x4EBA;&#x5BA2;&#x6237;&#x7528;ClientNo&#xFF0C;&#x4EA4;&#x6613;&#x5458;&#x64CD;&#x4F5C;&#x5458;&#x7528; OperatorNo&#x3002;</li>
<li>&#x8054;&#x7CFB;IT&#xFF0C;&#x68C0;&#x67E5;&#x540E;&#x53F0;API&#x6388;&#x6743;&#x8BBE;&#x7F6E;&#xFF0C;&#x6838;&#x5BF9;&#x6388;&#x6743;&#x662F;&#x5426;&#x4E0E;&#x540E;&#x53F0;&#x8BBE;&#x7F6E;&#x4E00;&#x81F4;&#x3002;</li>
</ul>
<hr>
<h1 id="1-errloginversion-&#x767B;&#x5F55;&#x7248;&#x672C;&#x4E0D;&#x5141;&#x8BB8;">1 Err_Login_Version &#x767B;&#x5F55;&#x7248;&#x672C;&#x4E0D;&#x5141;&#x8BB8;</h1>
<ul>
<li>&#x67E5;&#x770B;&#x6388;&#x6743;pdf&#x6587;&#x6863;&#xFF0C;&#x6388;&#x6743;&#x7C7B;&#x578B;&#x5982;&#x679C;&#x4E3A;&#x57FA;&#x7840;&#x6027;&#x68C0;&#x67E5;&#xFF0C;&#x5219;&#x4E3A;3.2.7&#x7CFB;&#x7EDF;&#x4E13;&#x7528;&#xFF0C;&#x6388;&#x6743;&#x7C7B;&#x578B;&#x4E3A;&#x5B8C;&#x6574;&#x6027;&#x68C0;&#x67E5;&#x5219;&#x4E3A;3.2.7&#x4EE5;&#x4E0A;&#x7CFB;&#x7EDF;&#x4E13;&#x7528;</li>
</ul>
<hr>
<h1 id="&#x5E01;&#x79CD;&#x4E0E;&#x6C47;&#x7387;">&#x5E01;&#x79CD;&#x4E0E;&#x6C47;&#x7387;</h1>
<pre><code class="lang-cpp"><span class="hljs-comment">//&#x5E01;&#x79CD;&#x67E5;&#x8BE2;&#x5E94;&#x7B54;&#x7ED3;&#x6784;</span>
<span class="hljs-keyword">struct</span> TEsCurrencyQryRspField
{
    TCurrencyNoType                CurrencyNo;
    TCurrencyNameType            CurrencyName;
    TIsPrimaryCurrencyType        IsPrimary;
    TCurrencyGroupFlagType        CurrencyGroup;
    TExchangeRateType            ExchangeRate;
};
</code></pre>
<ul>
<li>IsPrimar &#x662F;&#x5426;&#x57FA;&#x5E01;</li>
<li>CurrencyGroup&#x5E01;&#x79CD;&#x7EC4;&#x6807;&#x5FD7;(&#x540C;&#x4E00;&#x5E01;&#x79CD;&#x7EC4;&#xFF0C;&#x8D44;&#x91D1;&#x5171;&#x4EAB;&#xFF09;</li>
<li><p>ExchangeRate&#x6C47;&#x7387;</p>
</li>
<li><p>&#x6C47;&#x7387;&#x8BA1;&#x7B97;&#x793A;&#x4F8B;:</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>HKD</th>
<th>IsPrimary=Y</th>
<th>CurrencyGroup=A</th>
<th>ExchangeRate=1.0</th>
</tr>
</thead>
<tbody>
<tr>
<td>USD</td>
<td>IsPrimary=N</td>
<td>CurrencyGroup=A</td>
<td>ExchangeRate=7.749</td>
</tr>
</tbody>
</table>
<hr>
<h1 id="&#x6E2F;&#x4EA4;&#x6240;&#x591C;&#x76D8;&#x4EA4;&#x6613;">&#x6E2F;&#x4EA4;&#x6240;&#x591C;&#x76D8;&#x4EA4;&#x6613;</h1>
<ul>
<li><p>&#x5B9E;&#x76D8;&#xFF1A;&#x4EA4;&#x6613;&#x6E2F;&#x4EA4;&#x6240;&#x591C;&#x76D8;&#x65F6;&#x9700;&#x8981;&#x52A0;&#x5165; &#x6E2F;&#x4EA4;&#x6240;&#x4EA4;&#x6613;&#x65F6;&#x6BB5;&#x540E;&#x6709;&#x6548;&#x6807;&#x8BB0;&#xFF0C;&#x5426;&#x5219;&#x65E0;&#x6CD5;&#x4EA4;&#x6613;&#x3002;
&#x62A5;&#x5355;&#x8BF7;&#x6C42;&#x7ED3;&#x6784;&#x4E2D;Hedge = HEDGE_B&#x5373;&#x53EF;&#x3002;</p>
</li>
<li><p>&#x6A21;&#x62DF;&#xFF1A;&#x6A21;&#x62DF;&#x7CFB;&#x7EDF;&#x672A;&#x6A21;&#x62DF;&#x6B64;&#x4EA4;&#x6613;&#x89C4;&#x5219;&#xFF0C;&#x65E0;&#x8BBA;&#x662F;&#x5426;&#x586B;&#x5199;HEDGE_B&#xFF0C;&#x5747;&#x53EF;&#x5728;&#x665A;&#x95F4;&#x4EA4;&#x6613;</p>
</li>
</ul>
<hr>
<h1 id="api-&#x7533;&#x8BF7;&#x6D41;&#x7A0B;">API &#x7533;&#x8BF7;&#x6D41;&#x7A0B;</h1>
<p><img src="../images/v3_api_shen_qing_liu_cheng.png" alt="API&#x7533;&#x8BF7;&#x6D41;&#x7A0B;"></p>
<hr>
<h1 id="&#x5BA2;&#x6237;&#x81EA;&#x5B9A;&#x4E49;&#x4FDD;&#x7559;&#x5B57;&#x6BB5;">&#x5BA2;&#x6237;&#x81EA;&#x5B9A;&#x4E49;&#x4FDD;&#x7559;&#x5B57;&#x6BB5;</h1>
<ul>
<li><p>&#x5728;&#x62A5;&#x5355;&#x7ED3;&#x6784;&#x4E2D;&#x63D0;&#x4F9B;&#x4E86;&#x5BA2;&#x6237;&#x4FDD;&#x7559;&#x5B57;&#x6BB5;&#xFF0C;&#x5BA2;&#x6237;&#x53EF;&#x4EE5;&#x586B;&#x5145;&#x5B57;&#x6BB5;&#xFF0C;&#x7528;&#x4E8E;&#x6807;&#x8BC6;&#x6B64;&#x5B9A;&#x5355;&#x7531;&#x60A8;&#x7684;&#x5F00;&#x53D1;&#x7A0B;&#x4E2D;&#x53D1;&#x51FA;&#x3002;</p>
</li>
<li><p>&#x5BA2;&#x6237;&#x4FDD;&#x7559;&#x5B57;&#x6BB5;&#x4E0D;&#x4F1A;&#x663E;&#x793A;&#x4E8E;&#x6613;&#x76DB;&#x516C;&#x53F8;&#x7684;itrade&#x3001;&#x6781;&#x661F;&#x5BA2;&#x6237;&#x7AEF;&#x4E0A;&#xFF0C;&#x4F46;&#x662F;&#x4F1A;&#x4FDD;&#x5B58;&#x5728;&#x6570;&#x636E;&#x5E93;&#x4E2D;</p>
</li>
</ul>
<pre><code>//&#x62A5;&#x5355;&#x8BF7;&#x6C42;&#x7ED3;&#x6784;
struct TEsOrderInsertReqField
{
    ...
    ...
    TOrderSaveIntType            SaveInt;                //&#x5BA2;&#x6237;&#x4FDD;&#x7559;&#x5B57;&#x6BB5;1
    TOrderSaveDoubleType        SaveDouble;             //&#x5BA2;&#x6237;&#x4FDD;&#x7559;&#x5B57;&#x6BB5;2
    TOrderSaveStringType        SaveString;             //&#x5BA2;&#x6237;&#x4FDD;&#x7559;&#x5B57;&#x6BB5;3-
};
</code></pre><h1 id="&#x65AD;&#x7EBF;&#x91CD;&#x8FDE;">&#x65AD;&#x7EBF;&#x91CD;&#x8FDE;</h1>
<ul>
<li>&#x65AD;&#x7EBF;&#x540E;onclose&#x56DE;&#x8C03;&#x901A;&#x77E5;</li>
<li>&#x4E0D;&#x8981;&#x5728;onclose&#x56DE;&#x8C03;&#x4E2D;&#x8FDB;&#x884C;open&#x91CD;&#x8FDE;&#x64CD;&#x4F5C;&#xFF0C;&#x5426;&#x5219;&#x5C06;&#x9020;&#x6210;&#x963B;&#x585E;open&#x51FD;&#x6570;&#x65E0;&#x56DE;&#x5E94;&#x3002;</li>
<li></li>
</ul>
<hr>
<h1 id="&#x6E2F;&#x4EA4;&#x6240;&#x505A;&#x5E02;&#x5546;&#x62A5;&#x5355;hkmarketorderoperator">&#x6E2F;&#x4EA4;&#x6240;&#x505A;&#x5E02;&#x5546;&#x62A5;&#x5355;HKMarketOrderOperator</h1>
<ul>
<li>&#x4E24;&#x4E2A;&#x6307;&#x4EE4;&#x53EF;&#x4EE5;&#x4EFB;&#x610F;&#x7EC4;&#x5408;&#xFF0C;&#x4E0B;&#x5355;|&#x4E0B;&#x5355;   &#x4E0B;&#x5355;|&#x64A4;&#x5355;     &#x64A4;&#x5355;|&#x6539;&#x5355;  &#x6539;&#x5355;|&#x4E0B;&#x5355;   &#x4E0B;&#x5355;|&#x6539;&#x5355;</li>
<li>&#x7CFB;&#x7EDF;&#x4E2D;&#x663E;&#x793A;&#x7684;&#x662F;&#x4E24;&#x7B14;&#x59D4;&#x6258;&#xFF0C;&#x6CA1;&#x6709;&#x533A;&#x5206;&#x6807;&#x8BB0;&#x6B64;&#x59D4;&#x6258;&#x662F;&#x505A;&#x5E02;&#x5546;&#x5355;&#xFF0C;&#x6240;&#x4EE5;&#x5F00;&#x53D1;&#x8005;&#x9700;&#x8981;&#x81EA;&#x5DF1;&#x5904;&#x7406;</li>
<li>&#x505A;&#x5E02;&#x5546;&#x6307;&#x4EE4; &#x662F;&#x6E2F;&#x4EA4;&#x6240;&#x6307;&#x4EE4;&#xFF0C;&#x7F51;&#x5173;&#x76F4;&#x63A5;&#x5C06;&#x505A;&#x5E02;&#x5546;&#x6307;&#x4EE4;&#x53D1;&#x9001;&#x7ED9;&#x6E2F;&#x4EA4;&#x6240;</li>
</ul>
<hr>
<h1 id="createesunnyforeigntradeapi-&#x9519;&#x8BEF;&#x7801;">CreateEsunnyForeignTradeApi &#x9519;&#x8BEF;&#x7801;</h1>
<p>&#x5176;&#x4E2D;&#x9AD8;16&#x4F4D;&#x4E3A;&#x4FDD;&#x7559;&#x4FE1;&#x606F;&#xFF0C;&#x4F4E;16&#x4F4D;&#x4E3A;&#x9519;&#x8BEF;&#x7801;&#xFF0C;&#x83B7;&#x53D6;&#x5B9E;&#x9645;&#x9519;&#x8BEF;&#x7801;&#x9700;&#x8981;&#x5BF9;&#x9AD8;16&#x4F4D;&#x6E05;&#x96F6;&#x3002;</p>
<p>&#x4F8B;&#x5982; pRetCode=66136.</p>
<p>0000 0000 0000 0001 0000 0010 0101 1000</p>
<p>&#x9AD8;16&#x4F4D;&#x6E05;&#x96F6;</p>
<p>0000 0000 0000 0000 0000 0010 0101 1000=600</p>
<footer class="page-footer"><span class="copyright">&#xA9; Esunny API Team all right reserved&#xFF0C;powered by Gitbook</span><span class="footer-modification">&#x4FEE;&#x8BA2;&#x65F6;&#x95F4;&#xFF1A;
2017-10-19 11:06:07
</span></footer></body></html><div id='anchors-navbar'><i class='fa fa-anchor'></i><ul><li><a href='#30交易-常见问题'>3.0交易 常见问题</a></li><li><a href='#30交易'>3.0交易</a></li><li><a href='#应答与推送'>应答与推送</a></li><li><a href='#成交推送与委托状态推送'>成交推送与委托状态推送</a></li><li><a href='#错误码'>错误码</a></li><li><a href='#下单频率'>下单频率</a></li><li><a href='#tesorderinsertreqfield报单请求结构'>TEsOrderInsertReqField报单请求结构</a></li><li><a href='#onlogin与oninitfinished'>OnLogin与OnInitFinished</a></li><li><a href='#如何获取交易的合约代码'>如何获取交易的合约代码</a></li><li><a href='#请求id-ireqid'>请求ID iReqID</a></li><li><a href='#成交流号-、-成交id-、-成交编号'>成交流号 、 成交ID 、 成交编号</a></li><li><a href='#513-errfrntappnotallow-客户应用没有授权问题排查'>513 Err_Frnt_APPNotAllow 客户应用没有授权问题排查</a></li><li><a href='#1-errloginversion-登录版本不允许'>1 Err_Login_Version 登录版本不允许</a></li><li><a href='#币种与汇率'>币种与汇率</a></li><li><a href='#港交所夜盘交易'>港交所夜盘交易</a></li><li><a href='#api-申请流程'>API 申请流程</a></li><li><a href='#客户自定义保留字段'>客户自定义保留字段</a></li><li><a href='#断线重连'>断线重连</a></li><li><a href='#港交所做市商报单hkmarketorderoperator'>港交所做市商报单HKMarketOrderOperator</a></li><li><a href='#createesunnyforeigntradeapi-错误码'>CreateEsunnyForeignTradeApi 错误码</a></li></ul></div><a href='#30交易-常见问题' id='goTop'><i class='fa fa-arrow-up'></i></a>
                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../v3/quote.html" class="navigation navigation-prev " aria-label="Previous page: 行情"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../v9/index.html" class="navigation navigation-next " aria-label="Next page: 9.0API常见问题"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="http://source.liangxh.cn/gitbook/app.js"></script>

    
    <script src="http://cdn.staticfile.org/jquery/2.1.1-rc2/jquery.min.js"></script>
    

    
    <script src="http://cdn.staticfile.org/underscore.js/1.7.0/underscore-min.js"></script>
    

    
    <script src="http://cdn.staticfile.org/js-sequence-diagrams/1.0.4/sequence-diagram-min.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-js-sequence-diagram/plugin.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-search-pro/search-pro.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-baidu/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"search-pro":{"cutWordLib":"nodejieba"},"tbfed-pagefooter":{"copyright":"&copy Esunny API Team","modify_label":"修订时间：","modify_format":"YYYY-MM-DD HH:mm:ss"},"baidu":{"token":"996d7d789944261e71be275795686089"},"js-sequence-diagram":{},"anchor-navigation":{},"highlight":{}};
    gitbook.start(config);
});
</script>

        <script>var _hmt = _hmt || [];(function() {var hm = document.createElement('script');hm.src = '//hm.baidu.com/hm.js?996d7d789944261e71be275795686089';var s = document.getElementsByTagName('script')[0];s.parentNode.insertBefore(hm, s);})();</script>
    </body>
    
</html>
